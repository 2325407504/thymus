<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="frags/head :: header">
<meta charset="utf-8" />
<style type="text/css">
#loadThymus {
	position: absolute;
	margin: 0;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	color: #fff;
	font-weight: bolder;
	background-color: #777;
	z-index: 5000;
	font: 100% sans-serif, 'Helvetica Neue', Helvetica, Arial;
}
#loadThymus>div {
	position: absolute;
	width: 300px;
	height: 50px;
	margin: -150px 0 0 -150px;
	left: 50%;
	top: 50%;
}
#loadThymusText {
	text-align: center;
	vertical-align: baseline;
	line-height: 50px;
	z-index: 5002;
}
#loadThymusProg {
	background-color: #333;
}
#loadThymusProgPer {
	display: inline-block;
	width: 1%;
	height: 100%;
	background-color: #6593B5;
	z-index: 5001;
}
</style>
<script type="text/javascript">
	function fragComplete(event) {
		event.log();
		// get rid of text not wrapped in an HTML node or anchors 
		// from the read me mark down
		if (event.fragUrl.indexOf('README') > 0) {
			$(event.source).contents().filter(function() {
				return this.nodeType === 3 || this.tagName == 'a' || 
					this.tagName == 'A';
			}).remove();
		}
		// loading indicator
		var $lt = $('#loadThymus');
		if (event.fragCount == event.fragCurrTotal) {
			$lt.css('display', 'none');
		} else {
			var p = Math.round((event.fragCount / event.fragCurrTotal) * 100) + '%';
			var $pb = $lt.find('#loadThymusText');
			$pb.text(p);
			$('#loadThymusProgPer').css('width', p);
		}
	}
</script>
<!-- Thymus script -->
<script th:remove="all" src="js/thymus.js" id="thymusScript"
	data-thx-engine="thymeleaf"
	data-thx-context-path="." data-thx-frag-extension=".htm"
	data-thx-head-frag="th:replace=frags/head :: header"
	data-thx-onfragscomplete="init(event)" 
	data-thx-onfragcomplete="fragComplete(event)"></script>
</head>
<body>
	<div id="loadThymus">
		<div id="loadThymusText">
			0%
		</div>
		<div id="loadThymusProg">
			<div id="loadThymusProgPer"></div>
		</div>
	</div>
	<div th:replace="frags/nav/nav :: topnav"></div>
	<div class="container app-scroll">
		<div id="docs" class="app-scroll-nav">
			<ul class="nav navbar-inverse">
				<li><a th:title="#{about}"
					class="app-tooltip-bottom" title="About/Download" href="#about"><i
						class="icon-leaf"></i></a></li>
				<li><a th:title="#{features}"
					class="app-tooltip-bottom" title="Features" href="#features"><i
						class="icon-check"></i></a></li>
				<li><a th:title="#{usage}"
					class="app-tooltip-bottom" title="Usage" href="#usage"><i
						class="icon-code"></i></a></li>
				<li><a th:title="#{paths}"
					class="app-tooltip-bottom" title="Path Resolution" href="#paths"><i
						class="icon-link"></i></a></li>
				<li><a th:title="#{thymeleaf}"
					class="app-tooltip-bottom" title="Thymeleaf Integration" href="#thymeleaf"><i
						class="icon-cloud"></i></a></li>
			</ul>
		</div>
		<section
			data-spy="scroll" data-target="#docs" data-offset="0"
			class="scroll-spy">
			<div id="about" class="panel panel-default">
				<div class="panel-heading">
					<span class="icon-stack icon-3x"> <i
						class="icon-sign-blank icon-light icon-stack-base"></i> <i
						class="icon-leaf icon-thymus-stacked"></i> <i
						class="icon-thymus-text-dark">Thymus</i>
					</span>
					<div class="pull-right">
						<a href="https://github.com/ugate/thymus/tarball/master"><span
							class="icon-stack icon-3x"> <i
								class="icon-folder-close icon-stack-base"></i><i
								class="icon-light icon-text">tar.gz</i>
						</span></a>
						<a href="https://github.com/ugate/thymus/zipball/master"><span
							class="icon-stack icon-3x"> <i
								class="icon-folder-close icon-stack-base"></i> <i
								class="icon-light icon-text">.zip</i>
						</span></a>
					</div>
				</div>
				<div class="panel-body">
					<p th:replace="README.md">
						<b>thymus.js</b>
					</p>
					<p>
						Internally, it dynamically loads the JQuery API (configurable) and
						uses <a href="http://api.jquery.com/jQuery.get/">JQuery
							$.get(...) calls</a> to retrieve and insert fragments into pages. The
						process is similar to how <a href="http://api.jquery.com/load/">JQuery
							$.load(...) works with page fragments</a> with a few added benefits.
						<b>thymus.js</b> will automatically insert fragments into a page
						using HTML5 data attributes within the page and will update any
						relative
						<code>src</code>
						/
						<code>href</code>
						URLs within fragments to point to the proper path before
						insertion. It also supports nested fragments that may reside in
						other fragments. <a href="#features">Click here</a> for a full
						list of features.
					</p>
					<p>
						This site actually uses <b>thymus.js</b> templates to resolve
						fragments for the top navigation bar, bottom navigation bar,
						example user profile drop down menu, page head and scripts. So,
						feel free to explore :)
					</p>
					<div class="panel panel-default">
						<div class="panel-heading">Requirements</div>
						<div class="panel-body">
							<ul>
								<li><a href="https://github.com/jquery/jquery">JQuery
										&gt;= 1.9.1</a> (see <a href="#attrs">JQuery URL attribute</a>)</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div id="features" class="panel panel-default">
				<div class="panel-heading">
					<h2>
						Features
					</h2>
				</div>
				<div class="panel-body app-code">
					<ul>
						<li>Automatic fragment inclusion</li>
						<li>Automatic fragment replacement</li>
						<li>Automatic fragment <code>src</code>/<code>href</code>
							resolution for relative paths
						</li>
						<li>Multiple fragment definitions at the same fragment URL</li>
						<li>Prevents repetitive calls to the same URL associated with
							raw JQuery.load content (typical case when multiple fragments
							reside at the same URL)</li>
						<li><a href="#selfref">Self-Referencing templates</a></li>
						<li>Relatively infinite nesting of fragments (fragments
							within fragments)</li>
						<li><a href="#headfrags"><code>head</code> tag fragments</a></li>
						<li>Function fragment results for low-level fine-tuning</li>
						<li>Fragment events broadcast for each resource has been
							loaded or failed to load (including scripts and nested fragments)</li>
						<li>Fragment event broadcast when all fragments have been
							loaded or failed to load (including scripts and nested fragments)</li>
					</ul>
				</div>
			</div>
			<div id="usage" class="panel panel-default">
				<div class="panel-heading">
					<h2>
						Usage
					</h2>
				</div>
				<div class="panel-body app-code">
					<p>
						To use <b>thymus.js</b> it obviously needs to be included in the
						page. Here is the minimal setup:
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;head&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;meta</span> <span style="color: #FF0000">charset=</span><span style="color: #0000FF">&quot;utf-8&quot;</span> <span style="color: #000080; font-weight: bold">/&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- Thymus script --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;script </span><span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;js/thymus.js&quot;</span> <span style="color: #FF0000">id=</span><span style="color: #0000FF">&quot;thymusScript&quot;</span> <span style="color: #FF0000">data-thx-context-path=</span><span style="color: #0000FF">&quot;.&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/script&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/head&gt;</span>
</pre></div>
					<p>
						There are two required <b>thymus.js</b> attributes. The
						<code>thymusScript</code>
						id is used to identify the <b>thymus.js</b> script in order to
						capture various attribute options on the script tag while the
						<code>data-thx-context-path</code>
						is used for <a href="#fragpath">fragment path resolution</a> and <a
							href="#attrpaths">attribute path resolution</a>. It should point
						to the root context of the application relative to the page in
						which <b>thymus.js</b> is loaded.
					</p>
					<p>
						Fragments are simply defined using the
						<code>data-thx-fragment</code>
						attribute and assigning a fragment unique value to it. Any other
						content that surrounds the fragment will be ignored. The site you
						are viewing uses the following fragment for the top navigation
						bar:
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-fragment=</span><span style="color: #0000FF">&quot;topnav&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
	...
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
</pre></div>
					<p>
						Which is uses a
						<code>data-thx-replace</code>
						to define a value that contains two parts that are separated by a
						"<b>::</b>". The first part is the URL <b>frags/nav/nav</b> (see the
						<a href="#paths">Path Resolution</a> section for details on how
						URLs are resolved). While the second <b>topnav</b> defines the
						fragment name that is defined within the returned result (see
						fragment above).
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-replace=</span><span style="color: #0000FF">&quot;frags/nav/nav :: topnav&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/div&gt;</span>
</pre></div>
					<p id="selfref">
						Templates can also refer to fragments that exist in the same page
						in which they will be included/replaced in by using
						<code>this</code>
						or omitting the URL altogether (i.e.
						<code>data-thx-include="::testMe"</code>
						).
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-style: italic">&lt;!-- a page with --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;div&gt;</span>
	<span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-replace=</span><span style="color: #0000FF">&quot;this :: selfTemp&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/div&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;div&gt;</span>
	<span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-fragment=</span><span style="color: #0000FF">&quot;selfTemp&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
		...
	<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- would produce --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;div&gt;</span>
	<span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-fragment=</span><span style="color: #0000FF">&quot;selfTemp&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
		...
	<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;div&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
</pre></div>
					<h3 id="headfrags">Head Fragments</h3>
					<p>
						Almost every browser removes
						<code>head</code>
						attributes when parsing an HTML DOM. So, the <b>thymus.js</b>
						script definition needs to have an additional attribute to handle
						<code>head</code>
						fragment inclusions (replcacements are treated the same as
						includes for
						<code>head</code>
						tags). If the browser doesn't strip out the <b>data-thx-include</b>
						on the
						<code>head</code>
						tag it will be used. Otherwise, an attempt will be made to capture
						<code>data-thx-head-frag</code>
						as in the following example:
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;head</span> <span style="color: #FF0000">data-thx-include=</span><span style="color: #0000FF">&quot;frags/head :: header&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;meta</span> <span style="color: #FF0000">charset=</span><span style="color: #0000FF">&quot;utf-8&quot;</span> <span style="color: #000080; font-weight: bold">/&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- Thymus script --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;script </span><span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;js/thymus.js&quot;</span> <span style="color: #FF0000">id=</span><span style="color: #0000FF">&quot;thymusScript&quot;</span>
	<span style="color: #FF0000">data-thx-context-path=</span><span style="color: #0000FF">&quot;.&quot;</span>
	<span style="color: #FF0000">data-thx-head-frag=</span><span style="color: #0000FF">&quot;data-thx-include=frags/head :: header&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/script&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/head&gt;</span>
</pre></div>
					<p>
						Although this duplicates the inclusion defintion it does provide
						for cross-browser support. If this redundency disrupts your inner
						chi you can ommit the
						<code>data-thx-include</code>
						attribute from the
						<code>head</code>
						tag and the
						<code>data-thx-head-frag</code>
						will still be picked up.
					</p>
					<h3 id="scriptfrags">Script Fragments</h3>
					<p>
						Script tags will be inserted individually in the order they are
						defined within a fragment. Script tags found within a fragment
						will also fire a <a href="#fragcomplete">fragment loaded
							event</a> for each script that is loaded within the fragment
						destination.
					</p>
					<h3 id="fragcomplete">Fragment Complete Events</h3>
					<p>
						After each time an attempt to load a fragment is made a <b>fragment
							complete event</b> is fired. Also, each script tag within a fragment
						will also fire its own <b>fragment complete event</b>. Event
						propigation is linear and non-cancellable and therefore, can only
						be defined on the <b>thymus.js</b> tag itself using the
						<code>data-thx-onfragcomplete</code>
						attribute.
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;head&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;meta</span> <span style="color: #FF0000">charset=</span><span style="color: #0000FF">&quot;utf-8&quot;</span> <span style="color: #000080; font-weight: bold">/&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- Thymus script --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;script </span><span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;js/thymus.js&quot;</span> <span style="color: #FF0000">id=</span><span style="color: #0000FF">&quot;thymusScript&quot;</span>
	<span style="color: #FF0000">data-thx-context-path=</span><span style="color: #0000FF">&quot;.&quot;</span> <span style="color: #FF0000">data-thx-frag-extension=</span><span style="color: #0000FF">&quot;.htm&quot;</span>
	<span style="color: #FF0000">data-thx-onfragcomplete=</span><span style="color: #0000FF">&quot;fragComplete(event)&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/script&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/head&gt;</span>
</pre></div>
					<p>
						In the example above a function called <i>fragComplete</i> is
						defined as the
						<code>data-thx-onfragcomplete</code>
						. Every time an attempt is made to load a fragment and a response
						is returned the <i>window.fragComplete</i> function will be
						called. If the function contains an <b>event</b> parameter (w/o
						quotes) the <b>fragment complete event</b> will be passed at the
						specified parameter index. The <b>fragment complete event</b>
						contains the following properties:
					</p>
					<div id="fragcompleteevent" class="panel panel-default">
						<div class="panel-heading">
							<h2>Fragment Complete Event</h2>
						</div>
						<div class="panel-body">
							<div class="row row-thymus">
								<div class="col-md-2">
									<code>fragUrl</code>
								</div>
								<div class="col-md-10">the URL of the fragment that an
									attempt was made to load</div>
							</div>
							<div class="row row-thymus">
								<div class="col-md-2">
									<code>fragName</code>
								</div>
								<div class="col-md-10">the name of fragment that an
									attempt was made to load</div>
							</div>
							<div class="row row-thymus">
								<div class="col-md-2">
									<code>fragCount</code>
								</div>
								<div class="col-md-10">the number of total fragments load
									attempts</div>
							</div>
							<div class="row row-thymus">
								<div class="col-md-2">
									<code>fragCurrTotal</code>
								</div>
								<div class="col-md-10">the current number of total
									fragments that will or have had an attempt to load (may grow as
									new script tags or nested fragments are discovered)</div>
							</div>
							<div class="row row-thymus">
								<div class="col-md-2">
									<code>source</code>
								</div>
								<div class="col-md-10">
									the DOM node that was included/replaced or the parent node
									when the fragment was not HTML content or outer HTML string
									when the fragment was a
									<code>script</code>
								</div>
							</div>
							<div class="row row-thymus">
								<div class="col-md-2">
									<code>error</code>
								</div>
								<div class="col-md-10">the Error object (if the fragment
									loaded successfully error will be null)</div>
							</div>
						</div>
					</div>
					<h3 id="fragscomplete">Fragments Complete Events</h3>
					<p>
						Similar to <a href="#fragcomplete">fragment complete events</a>, a
						<b>fragments complete event</b> will be fired once an attempt to
						load all of the fragments has been made. Event propigation is
						linear and non-cancellable and therefore, can only be defined on
						the <b>thymus.js</b> tag itself using the
						<code>data-thx-onfragscomplete</code>
						attribute.
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;head&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;meta</span> <span style="color: #FF0000">charset=</span><span style="color: #0000FF">&quot;utf-8&quot;</span> <span style="color: #000080; font-weight: bold">/&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- Thymus script --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;script </span><span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;js/thymus.js&quot;</span> <span style="color: #FF0000">id=</span><span style="color: #0000FF">&quot;thymusScript&quot;</span>
	<span style="color: #FF0000">data-thx-context-path=</span><span style="color: #0000FF">&quot;.&quot;</span> <span style="color: #FF0000">data-thx-frag-extension=</span><span style="color: #0000FF">&quot;.htm&quot;</span>
	<span style="color: #FF0000">data-thx-onfragscomplete=</span><span style="color: #0000FF">&quot;done(event)&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/script&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/head&gt;</span>
</pre></div>
					<p>
						In the example above a function called <i>done</i> is defined as
						the
						<code>data-thx-onfragscomplete</code>
						. Once attempt is made to load all the defined
						fragment/scrits/nested fragments and a response is returned for
						each of them the <i>window.done</i> function will be called. If
						the function contains an <b>event</b> parameter (w/o quotes) the <b>fragments
							complete event</b> will be passed at the specified parameter index.
						The <b>fragments complete event</b> contains the following
						properties:
					</p>
					<div id="fragscompleteevent" class="panel panel-default">
						<div class="panel-heading">
							<h2>Fragments Complete Event</h2>
						</div>
						<div class="panel-body">
							<div class="row row-thymus">
								<div class="col-md-2">
									<code>fragCount</code>
								</div>
								<div class="col-md-10">the total number of fragments that
									were attempted to load (including nested fragments and scripts)</div>
							</div>
							<div class="row row-thymus">
								<div class="col-md-2">
									<code>errors</code>
								</div>
								<div class="col-md-10">a comma delimited string of
									detailed error messages (if all fragments loaded successfully,
									errors will be empty)</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div id="paths" class="panel panel-default">
				<div class="panel-heading">
					<h2>
						Path Resolution
					</h2>
				</div>
				<div class="panel-body app-code">
					<h3 id="fragpath">Fragment Path Resolution</h3>
					<p>
						Because <b>thymus.js</b> runs on the client it's not inheriently
						application context aware. Therefore, <b>thymus.js</b> uses a
						configurable
						<code>data-thx-context-path</code>
						attribute on the <b>thymus.js</b> script tag. It's value
						establishes the path to the root context of the application that
						will be resolved along with the fragment's inclusion URL. Fragment
						definitions can point to resources with different path levels. So,
						it's imporant that the
						<code>data-thx-context-path</code>
						synchronizes with the path defined within the fragment. For
						example, a fragment that resides in <b>example.com/my-app/frags/nav.htm</b>
						may also be included in <b>example.com/my-app/index.htm</b> as
						well as <b>example.com/my-app/user/info.htm</b>. If the fragment
						is defined something like:
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-fragment=</span><span style="color: #0000FF">&quot;topnav&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
	...
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
</pre></div>
					<p>
						And both <b>example.com/my-app/index.htm</b> and <b>example.com/my-app/user/info.htm</b>
						contain a corresponding include (or replacement):
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-include=</span><span style="color: #0000FF">&quot;frags/nav/nav :: topnav&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
	...
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
</pre></div>
					<p>
						Then the <b>thymus.js</b> script definitions would be as follows:
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;head&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;meta</span> <span style="color: #FF0000">charset=</span><span style="color: #0000FF">&quot;utf-8&quot;</span> <span style="color: #000080; font-weight: bold">/&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- example.com/my-app/index.htm --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;script </span><span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;js/thymus.js&quot;</span> <span style="color: #FF0000">id=</span><span style="color: #0000FF">&quot;thymusScript&quot;</span> <span style="color: #FF0000">data-thx-context-path=</span><span style="color: #0000FF">&quot;.&quot;</span>
	<span style="color: #FF0000">data-thx-frag-extension=</span><span style="color: #0000FF">&quot;.htm&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/script&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/head&gt;</span>
</pre></div>

<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;head&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;meta</span> <span style="color: #FF0000">charset=</span><span style="color: #0000FF">&quot;utf-8&quot;</span> <span style="color: #000080; font-weight: bold">/&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- example.com/my-app/user/info.htm --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;script </span><span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;../js/thymus.js&quot;</span> <span style="color: #FF0000">id=</span><span style="color: #0000FF">&quot;thymusScript&quot;</span>
	<span style="color: #FF0000">data-thx-context-path=</span><span style="color: #0000FF">&quot;../&quot;</span> <span style="color: #FF0000">data-thx-frag-extension=</span><span style="color: #0000FF">&quot;.htm&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/script&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/head&gt;</span>
</pre></div>
					<p>
						Notice that in both resources the <code>data-thx-context-path</code>
						points to <b>example.com/my-app</b> with <b>my-app</b> being the
						root context (<b>example.com/my-app/index.htm</b> uses <b>"."</b>
						which infers the current path; which would be <b>example.com/my-app/</b>
						while <b>example.com/my-app/user/info.htm</b> uses <b>"../"</b>
						which infers one directory up; which would be <b>example.com/my-app/</b>).
						This vasly simplifies fragment path resolution (escpecially for
						nested fragments) and ensures that all fragment
						inclusion/replacement paths are relative to the root context
						path of the application.
					</p>
					<h3 id="attrpaths">Attribute Path Resolution</h3>
					<p>
						As with <a href="#fragpath">Fragment Path Resolution</a>, relative
						URLs within fragments are resolved to their absolute URL
						counterparts relative to the root context of the application as
						defined by the
						<code>data-thx-context-path</code>
						on script. Only
						<code>href</code>
						and
						<code>src</code>
						attributes with relative paths are eligable for updating. Any
						<code>href</code>
						/
						<code>src</code>
						attributes that contain URLs that begin with an <a
							href="http://en.wikipedia.org/wiki/URI_scheme#Official_IANA-registered_schemes">IANA
							registered scheme</a> or begin with a <b>/</b> will <i>NOT</i> be
						updated by <b>thymus.js</b>. When any
						<code>href</code>
						/
						<code>src</code>
						attributes within a fragment begin with a <a
							href="http://tools.ietf.org/html/rfc3986#section-4.2">protocol-relative
							URL</a> (i.e. <b>//</b>) and the page is being called using a <a
							href="http://en.wikipedia.org/wiki/File_URI_scheme">file URI
							scheme</a> the URL will default to
						<code>http:</code>
						in order to preserve external URL integrity. Here are a few
						examples:
					</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-style: italic">&lt;!-- a page at: http://example.com/my-app/login.htm --&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- with a data-thx-context-path=&quot;.&quot; that contains a fragment with a --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;a</span> <span style="color: #FF0000">href=</span><span style="color: #0000FF">&quot;index.htm&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>...<span style="color: #000080; font-weight: bold">&lt;/a&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- will be result in --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;a</span> <span style="color: #FF0000">href=</span><span style="color: #0000FF">&quot;http://example.com/my-app/index.htm&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/a&gt;</span>
</pre></div>

<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-style: italic">&lt;!-- a page at: http://example.com/my-app/user/info.htm --&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- with a data-thx-context-path=&quot;../&quot; that contains a fragment with a --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;a</span> <span style="color: #FF0000">href=</span><span style="color: #0000FF">&quot;index.htm&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>...<span style="color: #000080; font-weight: bold">&lt;/a&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- will be result in --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;a</span> <span style="color: #FF0000">href=</span><span style="color: #0000FF">&quot;http://example.com/my-app/index.htm&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/a&gt;</span>
</pre></div>

<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-style: italic">&lt;!-- a page at: http://example.com/my-app/index.htm --&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- with a data-thx-context-path=&quot;.&quot; that contains a fragment with a --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;a</span> <span style="color: #FF0000">href=</span><span style="color: #0000FF">&quot;user/info.htm&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>...<span style="color: #000080; font-weight: bold">&lt;/a&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- will be result in --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;a</span> <span style="color: #FF0000">href=</span><span style="color: #0000FF">&quot;http://example.com/my-app/user/info.htm&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/a&gt;</span>
</pre></div>

<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-style: italic">&lt;!-- a page at: file://example.com/my-app/index.htm (notice the file: scheme) --&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- with a data-thx-context-path=&quot;.&quot; that contains a fragment with a --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;link</span>
	<span style="color: #FF0000">href=</span><span style="color: #0000FF">&quot;//code.jquery.com/ui/jquery-ui-git.css&quot;</span>
	<span style="color: #FF0000">rel=</span><span style="color: #0000FF">&quot;stylesheet&quot;</span> <span style="color: #000080; font-weight: bold">/&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- will be result in --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;link</span>
	<span style="color: #FF0000">href=</span><span style="color: #0000FF">&quot;http://code.jquery.com/ui/jquery-ui-git.css&quot;</span>
	<span style="color: #FF0000">rel=</span><span style="color: #0000FF">&quot;stylesheet&quot;</span> <span style="color: #000080; font-weight: bold">/&gt;</span>
</pre></div>
					<h2 id="otherfrags">Fragment <code>content-type</code> Resolution</h2>
					<p>
						By default <b>thymus.js</b> assumes that content retrieved for
						fragments have
						<code>text/html</code>
						content, but there are also other types of fragments that are
						supported by <b>thymus.js</b>. Not all of the <a
							href="http://www.iana.org/assignments/media-types">standard
							media types</a> are supported and will cause errors if an attempt is
						made to non-supported content types via <b>thymus.js</b>
					</p>
					<h3 id="textfrags">Raw Fragments</h3>
					<p>
						Fragments that are retrieved that have one of the
						<code>content-type</code>
						definitions below will be treated as raw data
						inclusions/replacements:
					</p>
					<ul>
						<li><code>text/plain</code></li>
						<li><code>application/octet-stream</code></li>
					</ul>
					<p>Because there is no fragment name/target assocaited with the
						returned data it can be ommitted from the inclusion/replcement
						attribute. So, only a URL will remain. Similar to the following:</p>
<div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-style: italic">&lt;!-- the the following replacement --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;div&gt;</span>
	<span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-replace=</span><span style="color: #0000FF">&quot;user/raw-data.txt&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
		<span style="color: #000080; font-weight: bold">&lt;h1&gt;</span>Will be replaced.<span style="color: #000080; font-weight: bold">&lt;/h1&gt;</span>
	<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- will result in the following --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;div&gt;</span>
	This is the content from raw-data.txt
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- while the following include --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;div&gt;</span>
	<span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-include=</span><span style="color: #0000FF">&quot;user/raw-data.txt&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
		<span style="color: #000080; font-weight: bold">&lt;h1&gt;</span>User Data<span style="color: #000080; font-weight: bold">&lt;/h1&gt;</span>
	<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- will result in the following --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;div&gt;</span>
	<span style="color: #000080; font-weight: bold">&lt;div</span> <span style="color: #FF0000">data-thx-include=</span><span style="color: #0000FF">&quot;user/raw-data.txt&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
		<span style="color: #000080; font-weight: bold">&lt;h1&gt;</span>User Data<span style="color: #000080; font-weight: bold">&lt;/h1&gt;</span>
		This is the content from raw-data.txt
	<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/div&gt;</span>
</pre></div>
					<h3 id="xmlfrags">XML Fragments</h3>
					<p>
						Fragments that are retrieved that have one of the XML
						<code>content-type</code>
						definitions below will be... Comming Soon!
					</p>
					<ul>
						<li><code>text/xml</code></li>
						<li><code>application/xhtml+xml</code> (where <b>*</b> is one
							of the <a href="http://www.iana.org/assignments/media-types">standard
								media types</a> for XML)</li>
					</ul>
					<h3 id="jsonfrags">JSON Fragments</h3>
					<p>
						Fragments that are retrieved that have one of the JSON
						<code>content-type</code>
						definitions below will be... Comming Soon!
					</p>
					<ul>
						<li><code>text/json</code></li>
						<li><code>application/*json</code> (where <b>*</b> is one of
							the <a href="http://www.iana.org/assignments/media-types">standard
								media types</a> for JSON)</li>
					</ul>
				</div>
			</div>
			<div id="thymeleaf" class="panel panel-default">
				<div class="panel-heading">
					<h2>
						Thymeleaf Integration
					</h2>
				</div>
				<div class="panel-body app-code">
					<p>
						<a href="http://www.thymeleaf.org/">Thymeleaf</a> is a great
						server-side template engine for Java and is the inspiration behind
						Thymus. In fact, by default Thymus uses the same default HTML5
						attributes for includes/replacements and fragment definitions.
					</p>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;head</span> <span style="color: #FF0000">th:replace=</span><span style="color: #0000FF">&quot;frags/head :: header&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;meta</span> <span style="color: #FF0000">charset=</span><span style="color: #0000FF">&quot;utf-8&quot;</span> <span style="color: #000080; font-weight: bold">/&gt;</span>
<span style="color: #008800; font-style: italic">&lt;!-- Thymus script --&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;script </span><span style="color: #FF0000">th:remove=</span><span style="color: #0000FF">&quot;all&quot;</span> <span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;js/thymus.js&quot;</span> <span style="color: #FF0000">id=</span><span style="color: #0000FF">&quot;thymusScript&quot;</span> 
	<span style="color: #FF0000">data-thx-context-path=</span><span style="color: #0000FF">&quot;.&quot;</span> <span style="color: #FF0000">data-thx-frag-extension=</span><span style="color: #0000FF">&quot;.htm&quot;</span>
	<span style="color: #FF0000">data-thx-head-frag=</span><span style="color: #0000FF">&quot;th:replace=frags/head :: header&quot;</span>
	<span style="color: #FF0000">data-thx-onfragsloaded=</span><span style="color: #0000FF">&quot;init(this)&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;/script&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/head&gt;</span>
</pre></div>
				</div>
			</div>
		</section>
	</div>
	<div th:replace="frags/nav/nav :: bottomnav"></div>
	<div th:replace="frags/script :: scripts"></div>
</body>
</html>